exports.ids = [1];
exports.modules = {

/***/ "./src/components/Dashboard.js":
/*!*************************************!*\
  !*** ./src/components/Dashboard.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ \"./node_modules/react-router-dom/es/index.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/lib/index.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../actions */ \"./src/actions.js\");\n/* harmony import */ var _utils_config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/config */ \"./src/components/utils/config.js\");\n\n\n\n\n\n\n//import \"./dashboard.css\"\n\nclass Dashboard extends react__WEBPACK_IMPORTED_MODULE_0___default.a.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.logout = () => {\n\t\t\tlocalStorage.removeItem('username');\n\t\t\tthis.props.history.push('login');\n\t\t};\n\n\t\tthis.handleselectedFile = event => {\n\t\t\tthis.setState({\n\t\t\t\tselectedFile: event.target.files[0]\n\t\t\t});\n\t\t};\n\n\t\tthis.removeFile = index => () => {\n\t\t\tthis.setState(prevState => ({\n\t\t\t\tselectedFiles: prevState.selectedFiles.filter(el => el !== index)\n\t\t\t}));\n\t\t};\n\n\t\tthis.selectImages = event => {\n\t\t\t//let images = [];\n\t\t\tconst files = event.target.files[0];\n\t\t\t/*console.log('f', files);\r\n   for (var i = 0; i < files.length; i++) {\r\n   \timages.push(files[i]);\r\n   }*/\n\t\t\t//images = images.filter(image => image.name.match(/\\.(jpg|jpeg|png|gif)$/))\n\t\t\t//let message = `${images.length} valid image(s) selected`\n\t\t\t//this.state.selectedFiles.push(files);\n\t\t\tthis.file.value = \"\";\n\t\t\tthis.setState(prevState => ({\n\t\t\t\tselectedFiles: [...prevState.selectedFiles, files]\n\t\t\t}));\n\t\t};\n\n\t\tthis.uploadImages = () => {\n\t\t\tconst uploaders = this.state.selectedFiles.map(file => {\n\t\t\t\tconst data = new FormData();\n\t\t\t\tdata.append(\"file\", file, file.name);\n\t\t\t\treturn axios__WEBPACK_IMPORTED_MODULE_1___default.a.post(_utils_config__WEBPACK_IMPORTED_MODULE_5__[\"config\"].baseUrl + 'files/upload', data).then(res => {\n\t\t\t\t\tif (res.status === 200) {}\n\t\t\t\t});\n\t\t\t});\n\t\t\t// Once all the files are uploaded \n\t\t\taxios__WEBPACK_IMPORTED_MODULE_1___default.a.all(uploaders).then(() => {\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\tselectedFiles: [],\n\t\t\t\t\tmessage: \"Uploaded successfully\"\n\t\t\t\t}));\n\t\t\t}).catch(err => alert(err.message));\n\t\t};\n\n\t\tthis.handleUpload = () => {\n\t\t\tconst data = new FormData();\n\t\t\tdata.append('file', this.state.selectedFile, this.state.selectedFile.name);\n\n\t\t\taxios__WEBPACK_IMPORTED_MODULE_1___default.a.post(_utils_config__WEBPACK_IMPORTED_MODULE_5__[\"config\"].baseUrl + 'files/upload', data, {\n\t\t\t\tonUploadProgress: ProgressEvent => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloaded: ProgressEvent.loaded / ProgressEvent.total * 100\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}).then(res => {\n\t\t\t\tif (res.status === 200) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tselectedFile: null,\n\t\t\t\t\t\tloaded: 0\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tthis.user = null;\n\t\tprops.getUsers();\n\t\tthis.state = { selectedFiles: [], message: null };\n\t\tthis.file = null;\n\t\tthis.setFileRef = node => {\n\t\t\tthis.file = node;\n\t\t};\n\t}\n\n\tcomponentWillUpdate(newProps) {\n\t\tthis.user = newProps.users;\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.selectedFiles);\n\t\tif (this.user) {\n\t\t\treturn react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t'h1',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Hi, ',\n\t\t\t\t\tthis.user.firstname,\n\t\t\t\t\t' ',\n\t\t\t\t\tthis.user.lastname\n\t\t\t\t),\n\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'lists' },\n\t\t\t\t\t'Users Information'\n\t\t\t\t),\n\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Gender: ',\n\t\t\t\t\tthis.user.gender\n\t\t\t\t),\n\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Country: ',\n\t\t\t\t\tthis.user.country\n\t\t\t\t),\n\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'upload-form-box' },\n\t\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t'h3',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\t'Multiple files upload'\n\t\t\t\t\t),\n\t\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement('input', { type: 'file', ref: this.setFileRef, onChange: this.selectImages }),\n\t\t\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t{ onClick: this.uploadImages },\n\t\t\t\t\t\t\t'Upload'\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\tthis.state.selectedFiles.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'file-items-box' },\n\t\t\t\t\t\tthis.state.selectedFiles.map((file, index) => react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'file-item', key: index },\n\t\t\t\t\t\t\tfile.name,\n\t\t\t\t\t\t\t' ',\n\t\t\t\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t{ className: 'remove-icon', onClick: this.removeFile(file) },\n\t\t\t\t\t\t\t\t'x'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t))\n\t\t\t\t\t),\n\t\t\t\t\tthis.state.message && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'success' },\n\t\t\t\t\t\tthis.state.message\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\treact__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'logout', onClick: this.logout },\n\t\t\t\t\t'Logout'\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nconst mapStateToProps = state => ({\n\tusers: state.reducers.users\n});\n\nconst mapDispatchToProps = {\n\tgetUsers: _actions__WEBPACK_IMPORTED_MODULE_4__[\"getUsers\"]\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__[\"withRouter\"])(Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[\"connect\"])(mapStateToProps, mapDispatchToProps)(Dashboard)));\n\n//# sourceURL=webpack:///./src/components/Dashboard.js?");

/***/ })

};;